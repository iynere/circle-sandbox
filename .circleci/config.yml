version: 2.1

orbs:
  orb-tools: circleci/orb-tools@volatile


steps-test: &steps-test
  run: |
    echo "hello"
    echo "another line"
    echo "line 3"
    echo "etc"


jobs:
  build:
    machine: true
    steps:
      - run:
          name: step 0
          command: |
            cat $CIRCLE_INTERNAL_SCRATCH
            cat $CIRCLE_INTERNAL_TASK_DATA
            cat $CIRCLE_INTERNAL_CONFIG
            cat $BASH_ENV
            cat $CIRCLE_SHELL_ENV
            cd $XDG_RUNTIME_DIR && ls
      - run:
          name: step 1
          command: |
            cat $CIRCLE_INTERNAL_SCRATCH
            cat $CIRCLE_INTERNAL_TASK_DATA
            cat $CIRCLE_INTERNAL_CONFIG
            cat $BASH_ENV
            cat $CIRCLE_SHELL_ENV
            cd $XDG_RUNTIME_DIR && ls

      - run: |
          printenv
          circleci step halt
      - *steps-test
